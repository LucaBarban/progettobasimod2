{% extends "add.html" %}

{% block addform %}

<h1>Bookadd</h1>

{% with messages = get_flashed_messages() %}
    {% if messages %}
        {% for msg in messages %}
            {{ msg }}<br>
        {% endfor %}
    {% endif %}
{% endwith %}


<form action="/book/add/" method="post" enctype=multipart/form-data>
    <label for="title">Title:</label>
    <input type="text" id="title" name="title" required><br><br>

    <label for="published">Published:</label>
    <input type="date" id="published" name="published" required><br><br>

    <label for="pages">Pages:</label>
    <input type="number" id="pages" name="pages" required><br><br>

    <label for="isbn">ISBN:</label>
    <input type="text" id="isbn" name="isbn" required><br><br>

    <label for="genres">Genre:</label>
    <select id="genres" name="genres" multiple required>
        {% for genre in genres %}
            <option value="{{ genre.name }}">{{ genre.name }}</option>
        {% endfor %}

    </select><br><br>

    <label for="author">Author:</label>
    <select id="author" name="author" required>
        {% for author in authors %}
            <option value="{{ author.id }}">{{ author.first_name }} {{ author.last_name }}</option>
        {% endfor %}
    </select><br><br>

    <label for="publisher">Publisher:</label>
    <select id="publisher" name="publisher" required>
        {% for publisher in publishers %}
            <option value="{{ publisher.name }}">{{ publisher.name }}</option>
        {% endfor %}
    </select><br><br>

    <label for="file">Book's Cover:</label>
    <input type="file" name="file" id="file"><br><br>

    <button type="submit">Add</button>
</form>

{% endblock %}
